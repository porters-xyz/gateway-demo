# Configuration

May eventually live somewhere else, but for now this is set to read tenant and key configuration to set up the given plugins to do their bit. First I will put this in redis, but may eventually move to postgres and just cache in redis through some means. The goal is that a request coming in can quickly be set up to filter based on user settings. Since this is on a per request basis, it is important that it is very fast and doesn't delay the processing much. My current model of thinking is that the api_key is looked up and all configuration is loaded about it and injected into the context. From here the plugins (as enabled by the operator) will read the context to set up the appropriate functions to run (one plugin may generate multiple steps (filters) to process a given request). The resulting operation will be as dictated by the rules of both the operator (operator config should be separate and better permissioned?) and the tenant (user/org).

We may want to retain this configuration and even the resulting pipeline in memory to avoid duplication, though we'll need to be careful as load balancing and memory management may make this a difficult task to optimize for.
